(this["webpackJsonppoke-gans"]=this["webpackJsonppoke-gans"]||[]).push([[0],{45:function(e,t,a){e.exports=a(63)},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),o=a.n(r);a(50),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(17),c=a(12),l=a.n(c),u=a(18),m=a(13),d=a(11),h=a(5),p=a(15),v=a(14);a(52),a(53);var g=function(e){return s.a.createElement("header",null,s.a.createElement("div",{className:"menu-bar"},s.a.createElement("div",{className:"title"},s.a.createElement("img",{src:"/titlelogo.png",className:"header-logo",alt:"/titlelogo.png"})),e.loggedIn?s.a.createElement("div",{className:"account"},s.a.createElement("p",{className:"username"},e.username),s.a.createElement("button",{className:"logout-button",onClick:e.logout},"Log Out")):null))};a(54);function f(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"footer-note"},s.a.createElement("p",null,"To see the code for this website, give suggestions, or get help, visit:"," ",s.a.createElement("a",{href:"https://github.com/lukeren314/poke-gans",target:"_blank",rel:"noopener noreferrer"},"https://github.com/lukeren314/poke-gans"))))}var b=a(21),y=(a(55),a(94)),E=a(95),M=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",saveUsername:!1,register:!1},n.switch=n.switch.bind(Object(h.a)(n)),n.handleUsernameChange=n.handleUsernameChange.bind(Object(h.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(h.a)(n)),n.handleSaveUsername=n.handleSaveUsername.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("saveUsername")?localStorage.getItem("username")?this.setState({saveUsername:!0,username:localStorage.getItem("username")}):localStorage.setItem("saveUsername",""):localStorage.setItem("username","");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switch",value:function(){this.setState({register:!this.state.register})}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSaveUsername",value:function(e){var t=e.target,a="saveUsername"===t.name?t.checked:t.value,n=t.name;this.setState(Object(b.a)({},n,a)),this.state.saveUsername?(localStorage.setItem("saveUsername","true"),localStorage.setItem("username",this.state.username)):(localStorage.setItem("saveUsername",""),localStorage.setItem("username",""))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.state.register?this.props.register(this.state.username,this.state.password):this.props.login(this.state.username,this.state.password);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"Login"},s.a.createElement("div",{className:"login-container"},s.a.createElement("h1",{className:"title"},this.state.register?"Register":"Login"),s.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},s.a.createElement("div",null,s.a.createElement(y.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,label:"Username",value:this.state.username,onChange:this.handleUsernameChange,autoFocus:!0}),s.a.createElement(y.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,label:"Password",type:"password",onChange:this.handlePasswordChange})),s.a.createElement("div",{className:"form-bottom"},s.a.createElement(E.a,{type:"submit",variant:"contained",className:"submit-button"},"Log In"),this.state.register?null:s.a.createElement("label",{className:"save-username"},"Save Username",s.a.createElement("input",{name:"saveUsername",type:"checkbox",checked:this.state.saveUsername,onChange:this.handleSaveUsername})))),s.a.createElement("div",{className:"extra-links",onClick:this.switch},this.state.register?"Login to existing account":"Register an account")))}}]),a}(s.a.Component),k=(a(59),a(23));function O(e,t,a){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(l.a.mark((function e(t,a,n){var s,r,o,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(j(t,a),{credentials:"omit"});case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,o=Object(k.a)(r,2),i=o[0],c=o[1],e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n("Bad Request: Try again","error");case 15:if(200!==c&&console.log("server status code: ".concat(c)),!i){e.next=28;break}if(!("invalid"in i)){e.next=21;break}n("Invalid Request: ".concat(i.invalid),"error"),e.next=26;break;case 21:if(!("error"in i)){e.next=25;break}n("Server Error: ".concat(i.error),"error"),e.next=26;break;case 25:return e.abrupt("return",i);case 26:e.next=29;break;case 28:n("Missing Server Data: Try Again","error");case 29:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function j(e,t){return"/".concat(e,"?")+Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")}function N(e){return"/images/".concat(e.id)}var S=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={codes:"",clipboardCodes:"",copySuccess:null},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.handleClipBoardChange=n.handleClipBoardChange.bind(Object(h.a)(n)),n.copyCodes=n.copyCodes.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({codes:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.submitCodes(this.state.codes)}},{key:"handleClipBoardChange",value:function(e){this.setState({clipboardCodes:e.target.value})}},{key:"copyCodes",value:function(e){this.codesRef.select(),document.execCommand("copy"),e.target.focus(),this.props.notify("Copied!","normal")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Home"},s.a.createElement("div",{className:"home-left"},s.a.createElement("div",{className:"codes-form"},s.a.createElement("h1",{className:"user-codes-title"},"Your Codes"),s.a.createElement("textarea",{className:"user-codes",ref:function(t){return e.codesRef=t},value:this.props.monsters.map((function(e){return e.code})).join("\n"),onChange:this.handleClipBoardChange,readOnly:!0}),s.a.createElement("button",{className:"copy-codes",onClick:this.copyCodes},"Copy Your Monster Codes to Clipboard"),s.a.createElement("form",{className:"enter-codes-form",onSubmit:this.handleSubmit},s.a.createElement("label",{className:"enter-codes"},"Enter Monster Codes:"),s.a.createElement("input",{className:"enter-codes-input",type:"text",value:this.state.codes,onChange:this.handleChange}),s.a.createElement("button",{className:"submit-codes",type:"submit"},"Submit Codes")),s.a.createElement("div",{className:"codes-log"},s.a.createElement("div",{className:"codes-log-title"},"Code Log:"),s.a.createElement("textarea",{readOnly:!0,className:"codes-log-text",value:this.props.codesLog&&this.props.codesLog.length>0?this.props.codesLog.join("\n"):"Submit monster code(s) separated by spaces above!"})))),s.a.createElement("div",{className:"home-right"},this.props.dailyMonster?s.a.createElement("div",{className:"daily-monster"},s.a.createElement("h1",{className:"daily-monster-title"},"Daily Monster"),s.a.createElement("img",{className:"daily-monster-image",src:N(this.props.dailyMonster),alt:this.props.dailyMonster.name}),s.a.createElement("div",{className:"daily-monster-info"},s.a.createElement("p",{className:"daily-monster-name"},this.props.dailyMonster.name),s.a.createElement("p",{className:"daily-monster-code"},"Code: ",this.props.dailyMonster.code))):s.a.createElement("p",null,"Daily Monster Not Found")))}}]),a}(s.a.Component),w=(a(60),a(61),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={hovering:!1,top:0,left:0},n.onMouseEnter=n.onMouseEnter.bind(Object(h.a)(n)),n.onMouseMove=n.onMouseMove.bind(Object(h.a)(n)),n.onMouseLeave=n.onMouseLeave.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"onMouseEnter",value:function(e){this.setState({hovering:!0})}},{key:"onMouseMove",value:function(e){this.setState({top:e.clientY,left:e.clientX})}},{key:"onMouseLeave",value:function(e){this.setState({hovering:!1})}},{key:"render",value:function(){return s.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.props.onClick,className:"monster"},this.props.monster?s.a.createElement("div",null,s.a.createElement("img",{className:"monster-image",src:N(this.props.monster),alt:this.props.monster.name}),s.a.createElement("div",{style:{top:this.state.top,left:this.state.left},className:this.state.hovering?"monster-menu":"hidden"},s.a.createElement("div",{className:"info"},s.a.createElement("p",{className:"overlay-name"},this.props.monster.name),s.a.createElement("p",{className:"monster-code"},"Code: ",this.props.monster.code)))):null)}}]),a}(s.a.Component)),L=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={menuStatus:""},n.openMenu=n.openMenu.bind(Object(h.a)(n)),n.closeMenu=n.closeMenu.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"openMenu",value:function(){this.setState({menuStatus:"show-menu"})}},{key:"closeMenu",value:function(){this.setState({menuStatus:""})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Monsters"},s.a.createElement("div",{id:"menu",className:this.state.menuStatus},this.props.monsters&&s.a.createElement("div",{className:"monsters-collected"},"Monsters Collected: ",this.props.monsters.length),s.a.createElement("button",{className:"menu-button",onClick:this.openMenu},"Monsters"),s.a.createElement("button",{className:"close-menu",onClick:this.closeMenu},"Close"),s.a.createElement("div",{className:"menu-container"},s.a.createElement("div",{className:"monsters-container"},this.props.monsters?this.props.monsters.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement(w,{onClick:function(){return e.props.openMonsterOverlay(t)},monster:t}))})):null))))}}]),a}(s.a.Component),x=(a(62),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(d.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:this.props.monster?{display:"block"}:{display:"none"},className:"monster-overlay"},s.a.createElement("div",{className:"overlay-container"},s.a.createElement("button",{className:"overlay-close-button",onClick:this.props.closeMonsterOverlay},"Close"),this.props.monster?s.a.createElement("div",null,s.a.createElement("div",{className:"monster-viewer"},s.a.createElement("img",{className:"overlay-image",src:N(this.props.monster),alt:this.props.monster.name})),s.a.createElement("div",{className:"overlay-info"},s.a.createElement("div",{className:"overlay-name"},this.props.monster.name),s.a.createElement("div",{className:"overlay-code"},"Code: ",this.props.monster.code))," "):s.a.createElement("p",null,"Monster Not Found")))}}]),a}(s.a.Component)),I=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={loggedIn:!1,userId:null,monsters:[],created:null,username:null,dailyMonster:null,codesLog:[],selectedMonsters:[],loading:!1,notifications:[]},n.login=n.login.bind(Object(h.a)(n)),n.register=n.register.bind(Object(h.a)(n)),n.setUserInfo=n.setUserInfo.bind(Object(h.a)(n)),n.startLoading=n.startLoading.bind(Object(h.a)(n)),n.stopLoading=n.stopLoading.bind(Object(h.a)(n)),n.logout=n.logout.bind(Object(h.a)(n)),n.notify=n.notify.bind(Object(h.a)(n)),n.openMonsterOverlay=n.openMonsterOverlay.bind(Object(h.a)(n)),n.closeMonsterOverlay=n.closeMonsterOverlay.bind(Object(h.a)(n)),n.submitCodes=n.submitCodes.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timer=setInterval((function(){if(t.state.notifications){for(var e=t.state.notifications.length-1;e>=0;e--)t.state.notifications[e].time--,t.state.notifications[e].time<0&&t.state.notifications.splice(e,1);t.setState({notifications:t.state.notifications})}}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.startLoading(),e.next=5,O("login",{username:t,password:a},this.notify);case 5:(n=e.sent)&&this.setUserInfo(n),this.stopLoading();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:return this.startLoading(),e.next=5,O("register",{username:t,password:a},this.notify);case 5:(n=e.sent)&&(this.setUserInfo(n),this.state.selectedMonsters.push(n.monsters[0]),this.setState({selectedMonsters:this.state.selectedMonsters})),this.stopLoading();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setUserInfo",value:function(e){this.setState({loggedIn:!0,userId:e.id,username:e.username,created:e.created,monsters:e.monsters,dailyMonster:e.dailyMonster})}},{key:"submitCodes",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!this.state.loading){e.next=4;break}return e.abrupt("return");case 4:return this.startLoading(),e.next=7,O("codes",{userId:this.state.userId,codes:t},this.notify);case 7:(a=e.sent)&&(this.setUserInfo(a.user),(n=this.state.selectedMonsters).push.apply(n,Object(i.a)(a.redeemed)),(s=this.state.codesLog).push.apply(s,Object(i.a)(a.log)),this.setState({selectedMonsters:this.state.selectedMonsters,codesLog:this.state.codesLog})),this.stopLoading();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startLoading",value:function(){this.setState({loading:!0})}},{key:"stopLoading",value:function(){this.setState({loading:!1})}},{key:"logout",value:function(){this.setState({loggedIn:!1,userId:null,username:null,created:null,monsters:[],dailyMonster:null,selectedMonsters:[],codesLog:[]})}},{key:"openMonsterOverlay",value:function(e){this.state.selectedMonsters.push(e),this.setState({selectedMonsters:this.state.selectedMonsters})}},{key:"closeMonsterOverlay",value:function(){this.state.selectedMonsters.pop(),this.setState({selectedMonsters:this.state.selectedMonsters})}},{key:"notify",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;this.state.notifications.push({message:e,time:a,type:t}),this.setState({notifications:this.state.notifications})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(g,{monster:this.state.monsters,username:this.state.username,loggedIn:this.state.loggedIn,logout:this.logout}),this.state.notifications?s.a.createElement("div",{className:"notifications"},s.a.createElement("ul",{className:"notifications-list"},this.state.notifications.map((function(e,t){return s.a.createElement("li",{className:"notification "+e.type,key:t},e.message)})))):null,this.state.loading?s.a.createElement("div",{className:"loading"},s.a.createElement("img",{src:"/loading.png",className:"loading-image",alt:"loading"})):null,this.state.selectedMonsters&&this.state.selectedMonsters.length>0?s.a.createElement(x,{monster:this.state.selectedMonsters[this.state.selectedMonsters.length-1],closeMonsterOverlay:this.closeMonsterOverlay}):null,this.state.loggedIn?s.a.createElement(L,{monsters:this.state.monsters,openMonsterOverlay:this.openMonsterOverlay}):null,this.state.loggedIn?s.a.createElement(S,{username:this.state.username,monsters:this.state.monsters,created:this.state.created,codesLog:this.state.codesLog,submitCodes:this.submitCodes,dailyMonster:this.state.dailyMonster,notify:this.notify}):s.a.createElement(M,{login:this.login,register:this.register}),s.a.createElement(f,null))}}]),a}(s.a.Component);o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.c5cc33d7.chunk.js.map